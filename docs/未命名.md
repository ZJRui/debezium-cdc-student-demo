---
typora-root-url: images
---

如何配置？

方式一：

![image-20210519195318061](./images/image-20210519195318061.png)

这种方式下对数据库rwtest的任意修改都会产生binlog

方式2：

只配置log-bin=mysql-bin 没有配置 binlog-do-db，这个时候 需要在Debezium中通过 下面两个参数指定

![image-20210519195446332](./images/image-20210519195446332.png)

如何读取？

![image-20210519191047451](./images/image-20210519191047451.png)



当数据来到时的堆栈

![image-20210519191201395](./images/image-20210519191201395.png)



==================

Engine Run的时候 会 创建一个reader，这个reader会创建一个BinaryLogClient，其中创建reder的时候传递了config配置信息

![image-20210519204513292](./images/image-20210519204513292.png)

![image-20210519204809044](./images/image-20210519204809044.png)



taskContext中有一个ConnectionContext，connContext中的config和taskContext中 config是同一个对象



![image-20210519204951572](./images/image-20210519204951572.png)

创建连接时指定的链接参数

```java

        this.jdbc = new JdbcConnection(jdbcConfig, JdbcConnection.patternBasedFactory("jdbc:mysql://${hostname}:${port}/?useInformationSchema=true&nullCatalogMeansCurrent=false&useSSL=${useSSL}&useUnicode=true&characterEncoding=UTF-8&characterSetResults=UTF-8&zeroDateTimeBehavior=convertToNull", driverClassName, this.getClass().getClassLoader(), new Field[0]));
这个参数中没有 
     .with("database.dbname", studentDBName)
                //指定监听的表，这里写死监听 指定数据库下的hstudent 和person表
                .with("table.whitelist", studentDBName + ".hstudent"
```



![image-20210519210302734](./images/image-20210519210302734.png)





===================





![image-20210520104631642](./images/image-20210520104631642.png)

![image-20210520104724448](./images/image-20210520104724448.png)

![image-20210520104746276](./images/image-20210520104746276.png)

![image-20210520111111654](./images/image-20210520111111654.png)







=================



![image-20210520114054024](./images/image-20210520114054024.png)



![image-20210520114039038](./images/image-20210520114039038.png)

![image-20210520114135066](./images/image-20210520114135066.png)

![image-20210520114156301](./images/image-20210520114156301.png)







![image-20210520114613044](./images/image-20210520114613044.png)



![image-20210520114759682](./images/image-20210520114759682.png)





![image-20210520130223057](./images/image-20210520130223057.png)

![image-20210520130414334](./images/image-20210520130414334.png)



![image-20210520130642776](./images/image-20210520130642776.png)

![image-20210520130746883](./images/image-20210520130746883.png)